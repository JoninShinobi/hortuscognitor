{% extends 'base.html' %}
{% load static %}

{% block title %}Contact Us - Hortus Cognitor{% endblock %}

{% block extra_head %}
<!-- Cloudflare Turnstile -->
<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
{% endblock %}

{% block content %}
<section class="hero">
    <div class="hero-logo">
        <img src="{% static 'images/CARROTFIST_white.png' %}" alt="Hortus Cognitor Logo">
    </div>
    <div class="container">
        <div class="hero-content">
            <h1>CONTACT US</h1>
            <p class="hero-subheading">Get in touch to start your journey</p>
        </div>
    </div>
</section>

<section class="section-black" style="background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%); padding: 3rem 0; margin: 0;">
    <div class="container">
        <div style="max-width: 600px; margin: 0 auto;">
            <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                <h3 style="color: #ADA228; margin-bottom: 2rem; font-size: 2rem; text-align: center;">Send us a Message</h3>
                    
                    {% if messages %}
                        {% for message in messages %}
                        <div style="background: {% if message.tags == 'success' %}#d4edda; border: 1px solid #c3e6cb; color: #155724;{% else %}#f8d7da; border: 1px solid #f5c6cb; color: #721c24;{% endif %} padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                            {{ message }}
                        </div>
                        {% endfor %}
                    {% endif %}
                    
                    <form method="post" action="{% url 'contact' %}">
                        {% csrf_token %}
                        
                        <div style="margin-bottom: 1.5rem;">
                            <label for="name" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333;">Your Name *</label>
                            <input type="text" id="name" name="name" required style="width: 100%; padding: 0.75rem; border: 3px solid #ADA228; border-radius: 4px; font-size: 1rem;">
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <label for="email" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333;">Email Address *</label>
                            <input type="email" id="email" name="email" required style="width: 100%; padding: 0.75rem; border: 3px solid #ADA228; border-radius: 4px; font-size: 1rem;">
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <label for="phone" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333;">Phone Number</label>
                            <input type="tel" id="phone" name="phone" style="width: 100%; padding: 0.75rem; border: 3px solid #ADA228; border-radius: 4px; font-size: 1rem;">
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <label for="subject" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333;">Subject *</label>
                            <select id="subject" name="subject" required style="width: 100%; padding: 0.75rem; border: 3px solid #ADA228; border-radius: 4px; font-size: 1rem;">
                                <option value="">Please select a subject</option>
                                <option value="course_enquiry">Course Enquiry</option>
                                <option value="booking_question">Booking Question</option>
                                <option value="workshop_request">Workshop Request</option>
                                <option value="collaboration">Collaboration</option>
                                <option value="general">General Question</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 2rem;">
                            <label for="message" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333;">Message *</label>
                            <textarea id="message" name="message" rows="6" required style="width: 100%; padding: 0.75rem; border: 3px solid #ADA228; border-radius: 4px; font-size: 1rem; resize: vertical;" placeholder="Tell us about your interest in regenerative growing, any specific questions, or how we can help you..."></textarea>
                        </div>

                        <div style="margin-bottom: 1.5rem; padding: 1rem; background: #f5f5f5; border-left: 3px solid #ADA228; border-radius: 4px;">
                            <p style="font-size: 0.9rem; color: #555; margin: 0; line-height: 1.6;">
                                By submitting this form, you consent to us storing and using your personal data to respond to your enquiry. We will not share your data with third parties or use it for marketing without your explicit consent. See our <a href="{% url 'privacy_policy' %}" target="_blank" style="color: #ADA228; text-decoration: underline;">Privacy Policy</a> for full details on how we protect your data.
                            </p>
                        </div>

                        <!-- Cloudflare Turnstile verification -->
                        <div style="margin-bottom: 1.5rem; display: flex; justify-content: center;">
                            <div class="cf-turnstile" data-sitekey="{{ TURNSTILE_SITE_KEY }}" data-theme="light"></div>
                        </div>

                        <div style="text-align: center;">
                            <button type="submit" class="btn" style="background: #ADA228; color: white; padding: 1rem 2rem; font-size: 1.1rem; border: none; cursor: pointer;">
                                Send Message
                            </button>
                        </div>
                    </form>
            </div>
        </div>
    </div>
</section>


<style>
@media (max-width: 768px) {
    div[style*="grid-template-columns: 1fr 1fr"] {
        grid-template-columns: 1fr !important;
    }
}
</style>
{% endblock %}